<!--
* @Author                : Jbristhuille<jean-baptiste@halfsquare.fr>
* @CreatedDate           : 2023-09-30 15:55:00
* @LastEditors           : Jbristhuille<jean-baptiste@halfsquare.fr>
* @LastEditDate          : 2023-09-30 16:56:50
-->

<div class="view-ptt">
  <ng-template [ngIf]="item" [ngIfElse]="loading">
    <section-ptt-tool-bar [isParentOf]="type != 'tickets'"
                          [isAssignee]="_.find(item.assignments, {userId: user.getUser()?.id}) != null"
                          (onDelete)="deleteItem()"
                          (onCreateChild)="createChild()"/>

    <div class="container">
      <section-ptt-header [(item)]="item" (itemChange)="saveItem()">
      </section-ptt-header>
    </div>
  </ng-template>

  <ng-template #loading>
    <div class="loading">
      <core-loading/>
    </div>
  </ng-template>
</div>
